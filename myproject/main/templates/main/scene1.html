{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Scene Editor - Step 1</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    .step {
      text-align: center;
      margin: 0 10px;
      color: #6c757d;
      text-decoration: none;
      transition: color 0.2s ease;
    }
    .step:hover {
      color: #343a40;
    }
    .step div {
      width: 45px;
      height: 45px;
      line-height: 45px;
      border-radius: 50%;
      border: 2px solid #6c757d;
      margin: 0 auto 5px;
      font-weight: bold;
      transition: all 0.3s ease;
    }
    .step.active div {
      background-color: #6c757d;
      color: white;
      border-color: #6c757d;
    }
    .step.completed div {
      background-color: #198754;
      border-color: #198754;
      color: white;
    }
    .scene-image {
      width: 100%;
      height: 250px;
      object-fit: cover;
      border-radius: 8px;
      margin-bottom: 2rem;
    }
    textarea[readonly] {
      background-color: #f8f9fa;
      cursor: not-allowed;
    }
  </style>
</head>
<body class="bg-light">

  <!-- New Navbar (6 Steps, All Clickable) -->
  <nav class="d-flex justify-content-center py-4 bg-white shadow-sm flex-wrap">
    <a href="{% url 'scene1' %}" class="step active">
      <div>1</div><small>Scene 1</small>
    </a>
    <a href="{% url 'scene2' %}" class="step">
      <div>2</div><small>Scene 2</small>
    </a>
    <a href="{% url 'scene3' %}" class="step">
      <div>3</div><small>Scene 3</small>
    </a>
    <a href="{% url 'scene4' %}" class="step">
      <div>4</div><small>Scene 4</small>
    </a>
    <a href="{% url 'scene5' %}" class="step">
      <div>5</div><small>Scene 5</small>
    </a>
    <a href="{% url 'scene6' %}" class="step">
      <div>6</div><small>Scene 6</small>
    </a>
  </nav>

  <div class="container mt-5 mb-5" style="max-width: 900px;">
    <!-- Scene Image -->
    <img src="{% static 'images/scene_placeholder.jpg' %}" alt="Scene illustration" class="scene-image">

    <!-- Header -->
    <h4 class="text-center mb-2">Scene Editor</h4>
    <p class="text-muted text-center mb-5">
      Here you can edit each scene.
    </p>

    <!-- Two-column text areas (read-only) -->
    <div class="row g-4 mb-4">
      <div class="col-md-6">
        <label for="story" class="form-label fw-bold text-secondary">Story</label>
        <p><a href="{% url 'personas' %}">Bob</a> waits on the rainy city street, his wheelchair positioned near the curb under a flickering lamppost. Water pools around the wheels, catching reflections of neon lights and passing cars. He checks his phone, watching the Uber timer count down. The air smells of wet asphalt and distant exhaust, wrapping the moment in damp stillness and faint hope.</p>
      </div>
      <div class="col-md-6">
        <label for="narration" class="form-label fw-bold text-secondary">Narration</label>
        <p>The rain had already been falling for an hour, steady and unbothered. Bob (muttering): ‚ÄúCome on, five minutes... let‚Äôs hope this one‚Äôs on time.‚Äù‚Ä® He adjusts his jacket collar and tucks his phone into his lap. The app glows faintly: Driver arriving in 3 minutes.</p>
      </div>
    </div>

    <!-- Feedback Form -->
    <form method="post" action="{% url 'scene1' %}">
      {% csrf_token %}
      <div class="mb-4">
        <textarea 
          class="form-control" 
          name="feedback" 
          rows="4" 
          placeholder="Do you want to make any changes?"
        ></textarea>
      </div>
      <div class="d-flex justify-content-between">
        <button type="submit" name="action" value="regenerate" class="btn btn-secondary">üîÑ Regenerate</button>
        <button type="submit" name="action" value="next" formaction="{% url 'scene2' %}" class="btn btn-primary">Next ‚Üí</button>
      </div>
    </form>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
